<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>voxblox: merge_integration.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_fd8820c1c0c48c5c02bb3ad96d8f61eb.html">voxblox</a></li><li class="navelem"><a class="el" href="dir_9fb5266e1a8f6504ec54e5db7f9070c0.html">integrator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">merge_integration.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="merge__integration_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef VOXBLOX_INTEGRATOR_MERGE_INTEGRATION_H_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define VOXBLOX_INTEGRATOR_MERGE_INTEGRATION_H_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;glog/logging.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="interpolator_8h.html">voxblox/interpolator/interpolator.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">voxblox/core/common.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="layer_8h.html">voxblox/core/layer.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="voxel_8h.html">voxblox/core/voxel.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacevoxblox.html">voxblox</a> {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#ab4abdc1c0bfb99a4e464a16f7f972e42">   18</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">FloatingPoint</a> <a class="code" href="namespacevoxblox.html#ab4abdc1c0bfb99a4e464a16f7f972e42">kUnitCubeDiagonalLength</a> = std::sqrt(3.0);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#a6c0d8f947a07ee995d43d4298ba62b9d">   22</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#a6c0d8f947a07ee995d43d4298ba62b9d">mergeLayerAintoLayerB</a>(<span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_A,</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                           <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_B) {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  CHECK_NOTNULL(layer_B);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="comment">// if voxel layout is different resample layer A to match B</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_A_ptr;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a> layer_A_resampled(layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(),</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                     layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>());</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keywordflow">if</span> ((layer_A.<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>() != layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>()) ||</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      (layer_A.<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>() != layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>())) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="namespacevoxblox.html#a77f6057322e08cc0d06fc944ee8194bc">resampleLayer</a>(layer_A, &amp;layer_A_resampled);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    layer_A_ptr = &amp;layer_A_resampled;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    layer_A_ptr = &amp;layer_A;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  }</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="namespacevoxblox.html#ab6a2a9c55d969e553791db1f7472a8f3">BlockIndexList</a> block_idx_list_A;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  layer_A.<a class="code" href="classvoxblox_1_1Layer.html#a951afcce4ce62ac11333ff57dfd23806">getAllAllocatedBlocks</a>(&amp;block_idx_list_A);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">BlockIndex</a>&amp; block_idx : block_idx_list_A) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Block.html#a32b8b7cf4ab9846d6f7f579629c0840e">Block&lt;VoxelType&gt;::ConstPtr</a> block_A_ptr =</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        layer_A_ptr-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a376df119f4e502689e850e3daddaf5cd">getBlockPtrByIndex</a>(block_idx);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Block.html">Block&lt;VoxelType&gt;::Ptr</a> block_B_ptr =</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a376df119f4e502689e850e3daddaf5cd">getBlockPtrByIndex</a>(block_idx);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (!block_B_ptr) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      block_B_ptr = layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acaf832b019d57191a53df574a6979ea8">allocateBlockPtrByIndex</a>(block_idx);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> ((block_A_ptr != <span class="keyword">nullptr</span>) &amp;&amp; (block_B_ptr != <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      block_B_ptr-&gt;<a class="code" href="classvoxblox_1_1Block.html#a8f34a2a31ca2419ffe1548ccf1d1db2f">mergeBlock</a>(*block_A_ptr);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#a7a5b6cc404d287a86e9388ee9e69ec71">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#a6c0d8f947a07ee995d43d4298ba62b9d">mergeLayerAintoLayerB</a>(<span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_A,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                           <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a>&amp; T_B_A,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                           <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_B,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                           <span class="keywordtype">bool</span> use_naive_method = <span class="keyword">false</span>) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a> layer_A_transformed(layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                       layer_B-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>());</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (use_naive_method) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="namespacevoxblox.html#ad52e0c25cb52781305aa4b8b2b54ca00">naiveTransformLayer</a>(layer_A, T_B_A, &amp;layer_A_transformed);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="namespacevoxblox.html#ad754b69bfe07a91cd472722909fa16e4">transformLayer</a>(layer_A, T_B_A, &amp;layer_A_transformed);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="namespacevoxblox.html#a6c0d8f947a07ee995d43d4298ba62b9d">mergeLayerAintoLayerB</a>(layer_A_transformed, layer_B);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#a77f6057322e08cc0d06fc944ee8194bc">   83</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#a77f6057322e08cc0d06fc944ee8194bc">resampleLayer</a>(<span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_in,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                   <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_out) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  CHECK_NOTNULL(layer_out);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="namespacevoxblox.html#ad754b69bfe07a91cd472722909fa16e4">transformLayer</a>(layer_in, <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a>(), layer_out);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#ad52e0c25cb52781305aa4b8b2b54ca00">   96</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#ad52e0c25cb52781305aa4b8b2b54ca00">naiveTransformLayer</a>(<span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_in,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                         <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a>&amp; T_out_in,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                         <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_out) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="namespacevoxblox.html#ab6a2a9c55d969e553791db1f7472a8f3">BlockIndexList</a> block_idx_list_in;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  layer_in.<a class="code" href="classvoxblox_1_1Layer.html#a951afcce4ce62ac11333ff57dfd23806">getAllAllocatedBlocks</a>(&amp;block_idx_list_in);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classvoxblox_1_1Interpolator.html">Interpolator&lt;VoxelType&gt;</a> interpolator(&amp;layer_in);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">BlockIndex</a>&amp; block_idx : block_idx_list_in) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Block.html">Block&lt;VoxelType&gt;</a>&amp; input_block = layer_in.<a class="code" href="classvoxblox_1_1Layer.html#a839233789820a00eac919a9fd2ea13e3">getBlockByIndex</a>(block_idx);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacevoxblox.html#a8fdfb64b539f3a5fe36899da8c5a28a6">IndexElement</a> input_linear_voxel_idx = 0;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         input_linear_voxel_idx &lt;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         <span class="keyword">static_cast&lt;</span><a class="code" href="namespacevoxblox.html#a8fdfb64b539f3a5fe36899da8c5a28a6">IndexElement</a><span class="keyword">&gt;</span>(input_block.<a class="code" href="classvoxblox_1_1Block.html#a5578cec42192183e6b3e45a5032bf590">num_voxels</a>());</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;         ++input_linear_voxel_idx) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="comment">// find voxel centers location in the output</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a> voxel_center =</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          T_out_in *</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          input_block.<a class="code" href="classvoxblox_1_1Block.html#a1412f12606eeb277aade206e8ef99c47">computeCoordinatesFromLinearIndex</a>(input_linear_voxel_idx);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a90a20ae2cdcb1348bf069a0b7fd99317">GlobalIndex</a> global_output_voxel_idx =</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          getGridIndexFromPoint&lt;GlobalIndex&gt;(voxel_center,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                             layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#aa25650ec433e46ac8d34811d424e1e71">voxel_size_inv</a>());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="comment">// allocate it in the output</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Block.html">Block&lt;VoxelType&gt;::Ptr</a> output_block =</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acaf832b019d57191a53df574a6979ea8">allocateBlockPtrByIndex</a>(<a class="code" href="namespacevoxblox.html#a95704c0557cb0c32135b449203ebcdff">getBlockIndexFromGlobalVoxelIndex</a>(</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;              global_output_voxel_idx, layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#ab9e37917a7e172d4551b78573021ab3f">voxels_per_side_inv</a>()));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">if</span> (output_block == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;invalid block&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// get the output voxel</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      VoxelType&amp; output_voxel =</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;          output_block-&gt;getVoxelByVoxelIndex(<a class="code" href="namespacevoxblox.html#aa4b3bc312f9c20be2e6c6d82ca5d3034">getLocalFromGlobalVoxelIndex</a>(</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;              global_output_voxel_idx, layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>()));</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">if</span> (interpolator.<a class="code" href="classvoxblox_1_1Interpolator.html#ae62792a8f3274b6ca83ab0d395c85b97">getVoxel</a>(voxel_center, &amp;output_voxel, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        output_block-&gt;has_data() = <span class="keyword">true</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#ad754b69bfe07a91cd472722909fa16e4">  147</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#ad754b69bfe07a91cd472722909fa16e4">transformLayer</a>(<span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_in,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a>&amp; T_out_in,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* layer_out) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  CHECK_NOTNULL(layer_out);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// first mark all the blocks in the output layer that may be filled by the</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// input layer (we are conservative here approximating the input blocks as</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// spheres of diameter sqrt(3)*block_size)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="namespacevoxblox.html#af894ea29a863b719f79b89000cc9445a">IndexSet</a> block_idx_set;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="namespacevoxblox.html#ab6a2a9c55d969e553791db1f7472a8f3">BlockIndexList</a> block_idx_list_in;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  layer_in.<a class="code" href="classvoxblox_1_1Layer.html#a951afcce4ce62ac11333ff57dfd23806">getAllAllocatedBlocks</a>(&amp;block_idx_list_in);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">BlockIndex</a>&amp; block_idx : block_idx_list_in) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a> c_in =</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="namespacevoxblox.html#ac4087fdf932228986df1922b3388e5da">getCenterPointFromGridIndex</a>(block_idx, layer_in.<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>());</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// forwards transform of center</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a> c_out = T_out_in * c_in;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// Furthest center point of neighboring blocks.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">FloatingPoint</a> offset =</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        kUnitCubeDiagonalLength * layer_in.<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>() * 0.5;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// Add index of all blocks in range to set.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">FloatingPoint</a> x = c_out.x() - offset; x &lt; c_out.x() + offset;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;         x += layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>()) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">FloatingPoint</a> y = c_out.y() - offset; y &lt; c_out.y() + offset;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;           y += layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>()) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">FloatingPoint</a> z = c_out.z() - offset; z &lt; c_out.z() + offset;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;             z += layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>()) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a> current_center_out = <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a>(x, y, z);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          <a class="code" href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">BlockIndex</a> current_idx = getGridIndexFromPoint&lt;BlockIndex&gt;(</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;              current_center_out, 1.0f / layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">block_size</a>());</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          block_idx_set.insert(current_idx);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// get inverse transform</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a> T_in_out = T_out_in.inverse();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="classvoxblox_1_1Interpolator.html">Interpolator&lt;VoxelType&gt;</a> interpolator(&amp;layer_in);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// we now go through all the blocks in the output layer and interpolate the</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// input layer at the center of each output voxel position</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">BlockIndex</a>&amp; block_idx : block_idx_set) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Block.html">Block&lt;VoxelType&gt;::Ptr</a> block =</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#acaf832b019d57191a53df574a6979ea8">allocateBlockPtrByIndex</a>(block_idx);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacevoxblox.html#a8fdfb64b539f3a5fe36899da8c5a28a6">IndexElement</a> voxel_idx = 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         voxel_idx &lt; static_cast&lt;IndexElement&gt;(block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a5578cec42192183e6b3e45a5032bf590">num_voxels</a>());</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         ++voxel_idx) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      VoxelType&amp; voxel = block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a8ca2444f10e614436ea605b367db10e4">getVoxelByLinearIndex</a>(voxel_idx);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="comment">// find voxel centers location in the input</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">Point</a> voxel_center =</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          T_in_out * block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a1412f12606eeb277aade206e8ef99c47">computeCoordinatesFromLinearIndex</a>(voxel_idx);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">// interpolate voxel</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (interpolator.<a class="code" href="classvoxblox_1_1Interpolator.html#ae62792a8f3274b6ca83ab0d395c85b97">getVoxel</a>(voxel_center, &amp;voxel, <span class="keyword">true</span>)) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a05ef744c9d3b22dc2eec88d875dba86e">has_data</a>() = <span class="keyword">true</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// if interpolated value fails use nearest</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (interpolator.<a class="code" href="classvoxblox_1_1Interpolator.html#ae62792a8f3274b6ca83ab0d395c85b97">getVoxel</a>(voxel_center, &amp;voxel, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a05ef744c9d3b22dc2eec88d875dba86e">has_data</a>() = <span class="keyword">true</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (!block-&gt;<a class="code" href="classvoxblox_1_1Block.html#a05ef744c9d3b22dc2eec88d875dba86e">has_data</a>()) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      layer_out-&gt;<a class="code" href="classvoxblox_1_1Layer.html#a9fc271b0c9055b15d79c4fdfd4aac812">removeBlock</a>(block_idx);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">typedef</span> std::pair&lt;voxblox::Layer&lt;voxblox::TsdfVoxel&gt;::Ptr,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                  <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;voxblox::TsdfVoxel&gt;::Ptr</a>&gt;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#ae8893b9c96243f928f036888d1ad5227">  225</a></span>&#160;    <a class="code" href="namespacevoxblox.html#ae8893b9c96243f928f036888d1ad5227">AlignedLayerAndErrorLayer</a>;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#acf2a6ebfd5add4cb8cbb97391271ae29">  226</a></span>&#160;<span class="keyword">typedef</span> std::vector&lt;AlignedLayerAndErrorLayer&gt; <a class="code" href="namespacevoxblox.html#acf2a6ebfd5add4cb8cbb97391271ae29">AlignedLayerAndErrorLayers</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#a4b2b51f6059c60a2349c04d129942670">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#a4b2b51f6059c60a2349c04d129942670">evaluateLayerRmseAtPoses</a>(</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevoxblox_1_1utils.html#adc0a9eb5f457e87033075f09d7db0971">utils::VoxelEvaluationMode</a>&amp; voxel_evaluation_mode,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_A, <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_B,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">const</span> std::vector&lt;Transformation&gt;&amp; transforms_A_B,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    std::vector&lt;utils::VoxelEvaluationDetails&gt;* voxel_evaluation_details_vector,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    std::vector&lt;std::pair&lt;<span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;VoxelType&gt;::Ptr</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                          <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;VoxelType&gt;::Ptr</a>&gt;&gt;*</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        aligned_layers_and_error_layers = <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  CHECK_NOTNULL(voxel_evaluation_details_vector);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Check if layers are compatible.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  CHECK_NEAR(layer_A.<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(), layer_B.<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(), 1e-8);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  CHECK_EQ(layer_A.<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>(), layer_B.<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>());</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Check if world TSDF layer agrees with merged object at all object poses.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0u; i &lt; transforms_A_B.size(); ++i) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">Transformation</a>&amp; transform_A_B = transforms_A_B[i];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Layer B transformed to the coordinate frame A.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;::Ptr</a> aligned_layer_B(</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keyword">new</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>(layer_B.<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(), layer_B.<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>()));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>* error_layer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (aligned_layers_and_error_layers != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span> (aligned_layers_and_error_layers-&gt;size() != transforms_A_B.size()) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        aligned_layers_and_error_layers-&gt;clear();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        aligned_layers_and_error_layers-&gt;resize(transforms_A_B.size());</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="comment">// Initialize and get ptr to error layer to fill out later.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      (*aligned_layers_and_error_layers)[i].second =</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html#a4ca7901b36ec670668b9c2be0bccba46">voxblox::Layer&lt;VoxelType&gt;::Ptr</a>(<span class="keyword">new</span> <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;VoxelType&gt;</a>(</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;              layer_A.<a class="code" href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxel_size</a>(), layer_A.<a class="code" href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxels_per_side</a>()));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      error_layer = (*aligned_layers_and_error_layers)[i].second.get();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="comment">// Store the aligned object as well.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      (*aligned_layers_and_error_layers)[i].first = aligned_layer_B;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// Transform merged object into the world frame.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    transformLayer&lt;VoxelType&gt;(layer_B, transform_A_B, aligned_layer_B.get());</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="structvoxblox_1_1utils_1_1VoxelEvaluationDetails.html">utils::VoxelEvaluationDetails</a> voxel_evaluation_details;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// Evaluate the RMSE of the merged object layer in the world layer.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="namespacevoxblox_1_1utils.html#a34775b30be8a56582f903845bf2dbb80">utils::evaluateLayersRmse</a>(layer_A, *aligned_layer_B, voxel_evaluation_mode,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                              &amp;voxel_evaluation_details, error_layer);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    voxel_evaluation_details_vector-&gt;push_back(voxel_evaluation_details);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> VoxelType&gt;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="namespacevoxblox.html#a8cc43aa681121ad1bdd6e5762474fa18">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevoxblox.html#a4b2b51f6059c60a2349c04d129942670">evaluateLayerRmseAtPoses</a>(</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevoxblox_1_1utils.html#adc0a9eb5f457e87033075f09d7db0971">utils::VoxelEvaluationMode</a>&amp; voxel_evaluation_mode,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_A, <span class="keyword">const</span> <a class="code" href="classvoxblox_1_1Layer.html">Layer&lt;VoxelType&gt;</a>&amp; layer_B,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> std::vector&lt;Eigen::Matrix&lt;float, 4, 4&gt;,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                      Eigen::aligned_allocator&lt;Eigen::Matrix&lt;float, 4, 4&gt;&gt;&gt;&amp;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        transforms_A_B,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    std::vector&lt;utils::VoxelEvaluationDetails&gt;* voxel_evaluation_details_vector,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    std::vector&lt;std::pair&lt;<span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;VoxelType&gt;::Ptr</a>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                          <span class="keyword">typename</span> <a class="code" href="classvoxblox_1_1Layer.html">voxblox::Layer&lt;VoxelType&gt;::Ptr</a>&gt;&gt;*</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        aligned_layers_and_error_layers = <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  CHECK_NOTNULL(voxel_evaluation_details_vector);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  std::vector&lt;Transformation&gt; kindr_transforms_A_B;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> Eigen::Matrix&lt;float, 4, 4&gt;&amp; transform_A_B : transforms_A_B) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    kindr_transforms_A_B.emplace_back(transform_A_B);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="namespacevoxblox.html#a4b2b51f6059c60a2349c04d129942670">evaluateLayerRmseAtPoses</a>(</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      voxel_evaluation_mode, layer_A, layer_B, kindr_transforms_A_B,</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      voxel_evaluation_details_vector, aligned_layers_and_error_layers);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}  <span class="comment">// namespace voxblox</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#endif  // VOXBLOX_INTEGRATOR_MERGE_INTEGRATION_H_</span></div><div class="ttc" id="classvoxblox_1_1Block_html_a8f34a2a31ca2419ffe1548ccf1d1db2f"><div class="ttname"><a href="classvoxblox_1_1Block.html#a8f34a2a31ca2419ffe1548ccf1d1db2f">voxblox::Block::mergeBlock</a></div><div class="ttdeci">void mergeBlock(const Block&lt; VoxelType &gt; &amp;other_block)</div><div class="ttdef"><b>Definition:</b> <a href="block__inl_8h_source.html#l00050">block_inl.h:50</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html_a8ca2444f10e614436ea605b367db10e4"><div class="ttname"><a href="classvoxblox_1_1Block.html#a8ca2444f10e614436ea605b367db10e4">voxblox::Block::getVoxelByLinearIndex</a></div><div class="ttdeci">const VoxelType &amp; getVoxelByLinearIndex(size_t index) const</div><div class="ttdoc">Accessors to actual blocks. </div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00125">block.h:125</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ab4abdc1c0bfb99a4e464a16f7f972e42"><div class="ttname"><a href="namespacevoxblox.html#ab4abdc1c0bfb99a4e464a16f7f972e42">voxblox::kUnitCubeDiagonalLength</a></div><div class="ttdeci">static const FloatingPoint kUnitCubeDiagonalLength</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00018">merge_integration.h:18</a></div></div>
<div class="ttc" id="layer_8h_html"><div class="ttname"><a href="layer_8h.html">layer.h</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ae8893b9c96243f928f036888d1ad5227"><div class="ttname"><a href="namespacevoxblox.html#ae8893b9c96243f928f036888d1ad5227">voxblox::AlignedLayerAndErrorLayer</a></div><div class="ttdeci">std::pair&lt; voxblox::Layer&lt; voxblox::TsdfVoxel &gt;::Ptr, voxblox::Layer&lt; voxblox::TsdfVoxel &gt;::Ptr &gt; AlignedLayerAndErrorLayer</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00225">merge_integration.h:225</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ad754b69bfe07a91cd472722909fa16e4"><div class="ttname"><a href="namespacevoxblox.html#ad754b69bfe07a91cd472722909fa16e4">voxblox::transformLayer</a></div><div class="ttdeci">void transformLayer(const Layer&lt; VoxelType &gt; &amp;layer_in, const Transformation &amp;T_out_in, Layer&lt; VoxelType &gt; *layer_out)</div><div class="ttdoc">Performs a 3D transform on the input layer and writes the results to the output layer. </div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00147">merge_integration.h:147</a></div></div>
<div class="ttc" id="namespacevoxblox_1_1utils_html_a34775b30be8a56582f903845bf2dbb80"><div class="ttname"><a href="namespacevoxblox_1_1utils.html#a34775b30be8a56582f903845bf2dbb80">voxblox::utils::evaluateLayersRmse</a></div><div class="ttdeci">FloatingPoint evaluateLayersRmse(const Layer&lt; VoxelType &gt; &amp;layer_gt, const Layer&lt; VoxelType &gt; &amp;layer_test, const VoxelEvaluationMode &amp;voxel_evaluation_mode, VoxelEvaluationDetails *evaluation_result=nullptr, Layer&lt; VoxelType &gt; *error_layer=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="evaluation__utils_8h_source.html#l00071">evaluation_utils.h:71</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a951afcce4ce62ac11333ff57dfd23806"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a951afcce4ce62ac11333ff57dfd23806">voxblox::Layer::getAllAllocatedBlocks</a></div><div class="ttdeci">void getAllAllocatedBlocks(BlockIndexList *blocks) const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00183">layer.h:183</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html_a5578cec42192183e6b3e45a5032bf590"><div class="ttname"><a href="classvoxblox_1_1Block.html#a5578cec42192183e6b3e45a5032bf590">voxblox::Block::num_voxels</a></div><div class="ttdeci">size_t num_voxels() const</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00207">block.h:207</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a376df119f4e502689e850e3daddaf5cd"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a376df119f4e502689e850e3daddaf5cd">voxblox::Layer::getBlockPtrByIndex</a></div><div class="ttdeci">BlockType::ConstPtr getBlockPtrByIndex(const BlockIndex &amp;index) const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00071">layer.h:71</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html"><div class="ttname"><a href="classvoxblox_1_1Block.html">voxblox::Block</a></div><div class="ttdoc">An nxnxn container holding VoxelType. </div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00017">block.h:17</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a670cb0f354a5e86bc564b1b9375768b0"><div class="ttname"><a href="namespacevoxblox.html#a670cb0f354a5e86bc564b1b9375768b0">voxblox::BlockIndex</a></div><div class="ttdeci">AnyIndex BlockIndex</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00050">common.h:50</a></div></div>
<div class="ttc" id="namespacevoxblox_1_1utils_html_adc0a9eb5f457e87033075f09d7db0971"><div class="ttname"><a href="namespacevoxblox_1_1utils.html#adc0a9eb5f457e87033075f09d7db0971">voxblox::utils::VoxelEvaluationMode</a></div><div class="ttdeci">VoxelEvaluationMode</div><div class="ttdef"><b>Definition:</b> <a href="evaluation__utils_8h_source.html#l00015">evaluation_utils.h:15</a></div></div>
<div class="ttc" id="namespacevoxblox_html"><div class="ttname"><a href="namespacevoxblox.html">voxblox</a></div><div class="ttdef"><b>Definition:</b> <a href="icp_8h_source.html#l00054">icp.h:54</a></div></div>
<div class="ttc" id="namespacevoxblox_html_acf2a6ebfd5add4cb8cbb97391271ae29"><div class="ttname"><a href="namespacevoxblox.html#acf2a6ebfd5add4cb8cbb97391271ae29">voxblox::AlignedLayerAndErrorLayers</a></div><div class="ttdeci">std::vector&lt; AlignedLayerAndErrorLayer &gt; AlignedLayerAndErrorLayers</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00226">merge_integration.h:226</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_aa25650ec433e46ac8d34811d424e1e71"><div class="ttname"><a href="classvoxblox_1_1Layer.html#aa25650ec433e46ac8d34811d424e1e71">voxblox::Layer::voxel_size_inv</a></div><div class="ttdeci">FloatingPoint voxel_size_inv() const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00261">layer.h:261</a></div></div>
<div class="ttc" id="classvoxblox_1_1Interpolator_html_ae62792a8f3274b6ca83ab0d395c85b97"><div class="ttname"><a href="classvoxblox_1_1Interpolator.html#ae62792a8f3274b6ca83ab0d395c85b97">voxblox::Interpolator::getVoxel</a></div><div class="ttdeci">bool getVoxel(const Point &amp;pos, VoxelType *voxel, bool interpolate=false) const</div><div class="ttdef"><b>Definition:</b> <a href="interpolator__inl_8h_source.html#l00026">interpolator_inl.h:26</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a4b2b51f6059c60a2349c04d129942670"><div class="ttname"><a href="namespacevoxblox.html#a4b2b51f6059c60a2349c04d129942670">voxblox::evaluateLayerRmseAtPoses</a></div><div class="ttdeci">void evaluateLayerRmseAtPoses(const utils::VoxelEvaluationMode &amp;voxel_evaluation_mode, const Layer&lt; VoxelType &gt; &amp;layer_A, const Layer&lt; VoxelType &gt; &amp;layer_B, const std::vector&lt; Transformation &gt; &amp;transforms_A_B, std::vector&lt; utils::VoxelEvaluationDetails &gt; *voxel_evaluation_details_vector, std::vector&lt; std::pair&lt; typename voxblox::Layer&lt; VoxelType &gt;::Ptr, typename voxblox::Layer&lt; VoxelType &gt;::Ptr &gt;&gt; *aligned_layers_and_error_layers=nullptr)</div><div class="ttdoc">This function will align layer B to layer A, transforming and interpolating layer B into voxel grid A...</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00238">merge_integration.h:238</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html_a05ef744c9d3b22dc2eec88d875dba86e"><div class="ttname"><a href="classvoxblox_1_1Block.html#a05ef744c9d3b22dc2eec88d875dba86e">voxblox::Block::has_data</a></div><div class="ttdeci">bool has_data() const</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00212">block.h:212</a></div></div>
<div class="ttc" id="structvoxblox_1_1utils_1_1VoxelEvaluationDetails_html"><div class="ttname"><a href="structvoxblox_1_1utils_1_1VoxelEvaluationDetails.html">voxblox::utils::VoxelEvaluationDetails</a></div><div class="ttdef"><b>Definition:</b> <a href="evaluation__utils_8h_source.html#l00022">evaluation_utils.h:22</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a6c0d8f947a07ee995d43d4298ba62b9d"><div class="ttname"><a href="namespacevoxblox.html#a6c0d8f947a07ee995d43d4298ba62b9d">voxblox::mergeLayerAintoLayerB</a></div><div class="ttdeci">void mergeLayerAintoLayerB(const Layer&lt; VoxelType &gt; &amp;layer_A, Layer&lt; VoxelType &gt; *layer_B)</div><div class="ttdoc">Merges layers, when the voxel or block size differs resampling occurs. </div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00022">merge_integration.h:22</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a9fc271b0c9055b15d79c4fdfd4aac812"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a9fc271b0c9055b15d79c4fdfd4aac812">voxblox::Layer::removeBlock</a></div><div class="ttdeci">void removeBlock(const BlockIndex &amp;index)</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00162">layer.h:162</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a90a20ae2cdcb1348bf069a0b7fd99317"><div class="ttname"><a href="namespacevoxblox.html#a90a20ae2cdcb1348bf069a0b7fd99317">voxblox::GlobalIndex</a></div><div class="ttdeci">LongIndex GlobalIndex</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00054">common.h:54</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a69a49f8f7c4d44b7d31daab36e4bc7dc"><div class="ttname"><a href="namespacevoxblox.html#a69a49f8f7c4d44b7d31daab36e4bc7dc">voxblox::FloatingPoint</a></div><div class="ttdeci">float FloatingPoint</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00041">common.h:41</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a95704c0557cb0c32135b449203ebcdff"><div class="ttname"><a href="namespacevoxblox.html#a95704c0557cb0c32135b449203ebcdff">voxblox::getBlockIndexFromGlobalVoxelIndex</a></div><div class="ttdeci">BlockIndex getBlockIndexFromGlobalVoxelIndex(const GlobalIndex &amp;global_voxel_idx, FloatingPoint voxels_per_side_inv)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00218">common.h:218</a></div></div>
<div class="ttc" id="voxel_8h_html"><div class="ttname"><a href="voxel_8h.html">voxel.h</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ad52e0c25cb52781305aa4b8b2b54ca00"><div class="ttname"><a href="namespacevoxblox.html#ad52e0c25cb52781305aa4b8b2b54ca00">voxblox::naiveTransformLayer</a></div><div class="ttdeci">void naiveTransformLayer(const Layer&lt; VoxelType &gt; &amp;layer_in, const Transformation &amp;T_out_in, Layer&lt; VoxelType &gt; *layer_out)</div><div class="ttdoc">Similar to transformLayer in functionality, however the system only makes use of the forward transfor...</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00096">merge_integration.h:96</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_ac148125b251a90209624a6c9803a826f"><div class="ttname"><a href="classvoxblox_1_1Layer.html#ac148125b251a90209624a6c9803a826f">voxblox::Layer::block_size</a></div><div class="ttdeci">FloatingPoint block_size() const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00258">layer.h:258</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a839233789820a00eac919a9fd2ea13e3"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a839233789820a00eac919a9fd2ea13e3">voxblox::Layer::getBlockByIndex</a></div><div class="ttdeci">const BlockType &amp; getBlockByIndex(const BlockIndex &amp;index) const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00055">layer.h:55</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ac4087fdf932228986df1922b3388e5da"><div class="ttname"><a href="namespacevoxblox.html#ac4087fdf932228986df1922b3388e5da">voxblox::getCenterPointFromGridIndex</a></div><div class="ttdeci">Point getCenterPointFromGridIndex(const IndexType &amp;idx, FloatingPoint grid_size)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00191">common.h:191</a></div></div>
<div class="ttc" id="namespacevoxblox_html_ab6a2a9c55d969e553791db1f7472a8f3"><div class="ttname"><a href="namespacevoxblox.html#ab6a2a9c55d969e553791db1f7472a8f3">voxblox::BlockIndexList</a></div><div class="ttdeci">IndexVector BlockIndexList</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00059">common.h:59</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_acaf832b019d57191a53df574a6979ea8"><div class="ttname"><a href="classvoxblox_1_1Layer.html#acaf832b019d57191a53df574a6979ea8">voxblox::Layer::allocateBlockPtrByIndex</a></div><div class="ttdeci">BlockType::Ptr allocateBlockPtrByIndex(const BlockIndex &amp;index)</div><div class="ttdoc">Gets a block by the block index it if already exists, otherwise allocates a new one. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00094">layer.h:94</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html"><div class="ttname"><a href="classvoxblox_1_1Layer.html">voxblox::Layer</a></div><div class="ttdoc">A 3D information layer, containing data of type VoxelType stored in blocks. </div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00023">layer.h:23</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_acc5ade8e948d3fc765597ce7461db890"><div class="ttname"><a href="classvoxblox_1_1Layer.html#acc5ade8e948d3fc765597ce7461db890">voxblox::Layer::voxel_size</a></div><div class="ttdeci">FloatingPoint voxel_size() const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00260">layer.h:260</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a0c9f3cab2910024e06fc5bfe9adb99b9"><div class="ttname"><a href="namespacevoxblox.html#a0c9f3cab2910024e06fc5bfe9adb99b9">voxblox::Point</a></div><div class="ttdeci">Eigen::Matrix&lt; FloatingPoint, 3, 1 &gt; Point</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00045">common.h:45</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a8bdb2beab2744d6fc9608909add7eac8"><div class="ttname"><a href="namespacevoxblox.html#a8bdb2beab2744d6fc9608909add7eac8">voxblox::Transformation</a></div><div class="ttdeci">kindr::minimal::QuatTransformationTemplate&lt; FloatingPoint &gt; Transformation</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00081">common.h:81</a></div></div>
<div class="ttc" id="common_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html_a32b8b7cf4ab9846d6f7f579629c0840e"><div class="ttname"><a href="classvoxblox_1_1Block.html#a32b8b7cf4ab9846d6f7f579629c0840e">voxblox::Block::ConstPtr</a></div><div class="ttdeci">std::shared_ptr&lt; const Block&lt; VoxelType &gt; &gt; ConstPtr</div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00022">block.h:22</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a8fdfb64b539f3a5fe36899da8c5a28a6"><div class="ttname"><a href="namespacevoxblox.html#a8fdfb64b539f3a5fe36899da8c5a28a6">voxblox::IndexElement</a></div><div class="ttdeci">int IndexElement</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00042">common.h:42</a></div></div>
<div class="ttc" id="namespacevoxblox_html_af894ea29a863b719f79b89000cc9445a"><div class="ttname"><a href="namespacevoxblox.html#af894ea29a863b719f79b89000cc9445a">voxblox::IndexSet</a></div><div class="ttdeci">std::unordered_set&lt; AnyIndex, AnyIndexHash, std::equal_to&lt; AnyIndex &gt;, Eigen::aligned_allocator&lt; AnyIndex &gt; &gt; IndexSet</div><div class="ttdef"><b>Definition:</b> <a href="block__hash_8h_source.html#l00045">block_hash.h:45</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_ab9e37917a7e172d4551b78573021ab3f"><div class="ttname"><a href="classvoxblox_1_1Layer.html#ab9e37917a7e172d4551b78573021ab3f">voxblox::Layer::voxels_per_side_inv</a></div><div class="ttdeci">FloatingPoint voxels_per_side_inv() const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00263">layer.h:263</a></div></div>
<div class="ttc" id="namespacevoxblox_html_a77f6057322e08cc0d06fc944ee8194bc"><div class="ttname"><a href="namespacevoxblox.html#a77f6057322e08cc0d06fc944ee8194bc">voxblox::resampleLayer</a></div><div class="ttdeci">void resampleLayer(const Layer&lt; VoxelType &gt; &amp;layer_in, Layer&lt; VoxelType &gt; *layer_out)</div><div class="ttdoc">copies the information stored in layer_in into layer_out resampling the data so that it fits the voxe...</div><div class="ttdef"><b>Definition:</b> <a href="merge__integration_8h_source.html#l00083">merge_integration.h:83</a></div></div>
<div class="ttc" id="interpolator_8h_html"><div class="ttname"><a href="interpolator_8h.html">interpolator.h</a></div></div>
<div class="ttc" id="classvoxblox_1_1Block_html_a1412f12606eeb277aade206e8ef99c47"><div class="ttname"><a href="classvoxblox_1_1Block.html#a1412f12606eeb277aade206e8ef99c47">voxblox::Block::computeCoordinatesFromLinearIndex</a></div><div class="ttdeci">Point computeCoordinatesFromLinearIndex(size_t linear_index) const</div><div class="ttdoc">Returns the CENTER point of the voxel. </div><div class="ttdef"><b>Definition:</b> <a href="block_8h_source.html#l00101">block.h:101</a></div></div>
<div class="ttc" id="namespacevoxblox_html_aa4b3bc312f9c20be2e6c6d82ca5d3034"><div class="ttname"><a href="namespacevoxblox.html#aa4b3bc312f9c20be2e6c6d82ca5d3034">voxblox::getLocalFromGlobalVoxelIndex</a></div><div class="ttdeci">VoxelIndex getLocalFromGlobalVoxelIndex(const GlobalIndex &amp;global_voxel_idx, const int voxels_per_side)</div><div class="ttdoc">Converts from a global voxel index to the index inside a block. </div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00236">common.h:236</a></div></div>
<div class="ttc" id="classvoxblox_1_1Interpolator_html"><div class="ttname"><a href="classvoxblox_1_1Interpolator.html">voxblox::Interpolator</a></div><div class="ttdef"><b>Definition:</b> <a href="interpolator_8h_source.html#l00013">interpolator.h:13</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a970151f853b22637214db4ea6589be45"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a970151f853b22637214db4ea6589be45">voxblox::Layer::voxels_per_side</a></div><div class="ttdeci">size_t voxels_per_side() const</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00262">layer.h:262</a></div></div>
<div class="ttc" id="classvoxblox_1_1Layer_html_a4ca7901b36ec670668b9c2be0bccba46"><div class="ttname"><a href="classvoxblox_1_1Layer.html#a4ca7901b36ec670668b9c2be0bccba46">voxblox::Layer::Ptr</a></div><div class="ttdeci">EIGEN_MAKE_ALIGNED_OPERATOR_NEW typedef std::shared_ptr&lt; Layer &gt; Ptr</div><div class="ttdef"><b>Definition:</b> <a href="layer_8h_source.html#l00027">layer.h:27</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/voxblox">voxblox</a><br />
Author(s): Helen Oleynikova <helen.oleynikova@mavt.ethz.ch>, Marius Fehr <marius.fehr@mavt.ethz.ch></br />
<small>autogenerated on Mon Nov 12 2018 18:18:02</small>
</div>
</body>
</html>
