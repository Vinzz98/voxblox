<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>voxblox: voxblox::ThreadSafeIndex Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevoxblox.html">voxblox</a></li><li class="navelem"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html">ThreadSafeIndex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classvoxblox_1_1ThreadSafeIndex-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">voxblox::ThreadSafeIndex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Small class that can be used by multiple threads that need mutually exclusive indexes to the same array, while still covering all elements.  
 <a href="classvoxblox_1_1ThreadSafeIndex.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a12c3c2de23e7debf21e4ad028ded63d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a12c3c2de23e7debf21e4ad028ded63d5">getNextIndex</a> (size_t *idx)</td></tr>
<tr class="memdesc:a12c3c2de23e7debf21e4ad028ded63d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if index is valid, false otherwise  <a href="#a12c3c2de23e7debf21e4ad028ded63d5">More...</a><br /></td></tr>
<tr class="separator:a12c3c2de23e7debf21e4ad028ded63d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db87325961753ce6ee95455142a7e15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a1db87325961753ce6ee95455142a7e15">reset</a> ()</td></tr>
<tr class="separator:a1db87325961753ce6ee95455142a7e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfc877ca41a11940e76163b24ab2c2a"><td class="memItemLeft" align="right" valign="top">EIGEN_MAKE_ALIGNED_OPERATOR_NEW&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#abcfc877ca41a11940e76163b24ab2c2a">ThreadSafeIndex</a> (size_t number_of_points)</td></tr>
<tr class="separator:abcfc877ca41a11940e76163b24ab2c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3f706f7be3892f41d3ff652ac5a5dd27"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a3f706f7be3892f41d3ff652ac5a5dd27">getMixedIndex</a> (size_t base_idx)</td></tr>
<tr class="separator:a3f706f7be3892f41d3ff652ac5a5dd27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a15b879e8bda32d6f47c2aca115cd3319"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a15b879e8bda32d6f47c2aca115cd3319">atomic_idx_</a></td></tr>
<tr class="separator:a15b879e8bda32d6f47c2aca115cd3319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d752bf26ffcb9d2b349013a750a602e"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a8d752bf26ffcb9d2b349013a750a602e">number_of_groups_</a></td></tr>
<tr class="separator:a8d752bf26ffcb9d2b349013a750a602e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6700785d8ec378f21649b3408220250c"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6700785d8ec378f21649b3408220250c">number_of_points_</a></td></tr>
<tr class="separator:a6700785d8ec378f21649b3408220250c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a02a49204bf4c20575d7c1e7741cea0c1"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a02a49204bf4c20575d7c1e7741cea0c1">bit_mask_</a> = <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6d0ff6f97274963a9d7fa974dcd15946">step_size_</a> - 1</td></tr>
<tr class="separator:a02a49204bf4c20575d7c1e7741cea0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35b015cbe7cdd62742811213fa33f1d"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#af35b015cbe7cdd62742811213fa33f1d">num_bits</a> = 10</td></tr>
<tr class="memdesc:af35b015cbe7cdd62742811213fa33f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">1024 bins  <a href="#af35b015cbe7cdd62742811213fa33f1d">More...</a><br /></td></tr>
<tr class="separator:af35b015cbe7cdd62742811213fa33f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53f0a881e332c8b51630e04b41fcdf3"><td class="memItemLeft" align="right" valign="top">static const std::array&lt; size_t, <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6d0ff6f97274963a9d7fa974dcd15946">step_size_</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#ab53f0a881e332c8b51630e04b41fcdf3">offset_lookup_</a></td></tr>
<tr class="memdesc:ab53f0a881e332c8b51630e04b41fcdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup table for the order points in a group should be read in.  <a href="#ab53f0a881e332c8b51630e04b41fcdf3">More...</a><br /></td></tr>
<tr class="separator:ab53f0a881e332c8b51630e04b41fcdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0ff6f97274963a9d7fa974dcd15946"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6d0ff6f97274963a9d7fa974dcd15946">step_size_</a> = 1 &lt;&lt; <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#af35b015cbe7cdd62742811213fa33f1d">num_bits</a></td></tr>
<tr class="separator:a6d0ff6f97274963a9d7fa974dcd15946"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Small class that can be used by multiple threads that need mutually exclusive indexes to the same array, while still covering all elements. </p>
<p>The class attempts to ensure that the points are read in an order that gives good coverage over the pointcloud very quickly. This is so that the integrator can be terminated before all points have been read (due to time constraints) and still capture most of the geometry. </p>

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00026">26</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abcfc877ca41a11940e76163b24ab2c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfc877ca41a11940e76163b24ab2c2a">&#9670;&nbsp;</a></span>ThreadSafeIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">voxblox::ThreadSafeIndex::ThreadSafeIndex </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>number_of_points</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8cc_source.html#l00011">11</a> of file <a class="el" href="integrator__utils_8cc_source.html">integrator_utils.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3f706f7be3892f41d3ff652ac5a5dd27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f706f7be3892f41d3ff652ac5a5dd27">&#9670;&nbsp;</a></span>getMixedIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t voxblox::ThreadSafeIndex::getMixedIndex </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>base_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8cc_source.html#l00031">31</a> of file <a class="el" href="integrator__utils_8cc_source.html">integrator_utils.cc</a>.</p>

</div>
</div>
<a id="a12c3c2de23e7debf21e4ad028ded63d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c3c2de23e7debf21e4ad028ded63d5">&#9670;&nbsp;</a></span>getNextIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool voxblox::ThreadSafeIndex::getNextIndex </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns true if index is valid, false otherwise </p>

<p class="definition">Definition at line <a class="el" href="integrator__utils_8cc_source.html#l00017">17</a> of file <a class="el" href="integrator__utils_8cc_source.html">integrator_utils.cc</a>.</p>

</div>
</div>
<a id="a1db87325961753ce6ee95455142a7e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db87325961753ce6ee95455142a7e15">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void voxblox::ThreadSafeIndex::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8cc_source.html#l00029">29</a> of file <a class="el" href="integrator__utils_8cc_source.html">integrator_utils.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a15b879e8bda32d6f47c2aca115cd3319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b879e8bda32d6f47c2aca115cd3319">&#9670;&nbsp;</a></span>atomic_idx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;size_t&gt; voxblox::ThreadSafeIndex::atomic_idx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00040">40</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="a02a49204bf4c20575d7c1e7741cea0c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a49204bf4c20575d7c1e7741cea0c1">&#9670;&nbsp;</a></span>bit_mask_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t voxblox::ThreadSafeIndex::bit_mask_ = <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6d0ff6f97274963a9d7fa974dcd15946">step_size_</a> - 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00047">47</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="af35b015cbe7cdd62742811213fa33f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35b015cbe7cdd62742811213fa33f1d">&#9670;&nbsp;</a></span>num_bits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t voxblox::ThreadSafeIndex::num_bits = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>1024 bins </p>

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00045">45</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="a8d752bf26ffcb9d2b349013a750a602e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d752bf26ffcb9d2b349013a750a602e">&#9670;&nbsp;</a></span>number_of_groups_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t voxblox::ThreadSafeIndex::number_of_groups_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00042">42</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="a6700785d8ec378f21649b3408220250c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6700785d8ec378f21649b3408220250c">&#9670;&nbsp;</a></span>number_of_points_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t voxblox::ThreadSafeIndex::number_of_points_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00041">41</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="ab53f0a881e332c8b51630e04b41fcdf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53f0a881e332c8b51630e04b41fcdf3">&#9670;&nbsp;</a></span>offset_lookup_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::array&lt; size_t, <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#a6d0ff6f97274963a9d7fa974dcd15946">ThreadSafeIndex::step_size_</a> &gt; voxblox::ThreadSafeIndex::offset_lookup_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lookup table for the order points in a group should be read in. </p>
<p>This is simply a list from 0 to 1023 where each number has had the order of its bits reversed. </p>

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00054">54</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<a id="a6d0ff6f97274963a9d7fa974dcd15946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0ff6f97274963a9d7fa974dcd15946">&#9670;&nbsp;</a></span>step_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t voxblox::ThreadSafeIndex::step_size_ = 1 &lt;&lt; <a class="el" href="classvoxblox_1_1ThreadSafeIndex.html#af35b015cbe7cdd62742811213fa33f1d">num_bits</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="integrator__utils_8h_source.html#l00046">46</a> of file <a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="integrator__utils_8h_source.html">integrator_utils.h</a></li>
<li><a class="el" href="integrator__utils_8cc_source.html">integrator_utils.cc</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/voxblox">voxblox</a><br />
Author(s): Helen Oleynikova <helen.oleynikova@mavt.ethz.ch>, Marius Fehr <marius.fehr@mavt.ethz.ch></br />
<small>autogenerated on Mon Nov 12 2018 18:18:02</small>
</div>
</body>
</html>
